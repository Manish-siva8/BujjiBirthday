<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="https://kit.fontawesome.com/a14ae32021.js" crossorigin="anonymous"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>This one is for my Keerth</title>

<style type="text/css">
@font-face {
    font-family: digit;
    src: url('digital-7_mono.ttf') format("truetype");
}
</style>
<link href="css/default.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/garden.js"></script>
<script type="text/javascript" src="js/functions.js"></script>

</head>

<body>

<div id="mobileStart">
    <button id="startBtn">Open Gift ðŸ’–</button>
</div>

<div id="beigeOverlay">
    <div id="closeBtn">âœ–</div>

    <div id="mainDiv">
        <div id="content">
            <div id="code">
                <span class="comments">/**</span><br />
                <span class="space"/><span class="comments">*OMG CLICK HERE FASTTTTT!!!</span><br />
                <span class="space"/><span class="comments">*OMG CLICK HERE FASTTTTT!!!</span><br />
                <span class="space"/><span class="comments">*THE CODE OF LOVE âœ¨</span><br />
                <span class="space"/><span class="comments">*/</span><br />
                Hey Bujji! ðŸŒ¸<br />
                Do you remember the day we first met?<br />
                <span class="comments">// The Day before Social Exam. </span><br />
                ahh!! I still remember everything;<br />
                its like it happened yesterday;<br />
                i still remember the way you smiled at me that day ;<br />
                <span class="comments">// He's so cute ,He's so sweet anta hehehe.</span><br />
                Since that day a spark begun;<br />
                <span class="comments">// Your face Your Voice Your Words.</span><br />
                
                
                Your everything got imprinted in my heart ðŸ’–;<br />
                As the time went on;<br />
                The Bond grew stronger and stronger;<br />
                Journey from Infatuation to Love;<br />
                I might be stupid sometimes,i know you will bear me ;<br />
                We have traveled a long way together;<br />
                <span class="comments">// And we will in next life too, i'm sure of it !!</span><br />

                There have been fights ;<br />
                <span class="comments">// And I'm sure there will be more hehe.</span><br />
                But our Bond will always grow back Stronger;<br />
                <br />
                All I want to say is:<br />
                Bangaram, Happiest 21st Birthday to you!! ðŸŽ‚<br />
                I will love you forever;<br />
                <br />
                <span class="comments">// There's everyone's way of telling HBD...</span><br />
                But they forget to make you happy;<br />
                When someone tells, they are just wishes;<br />
                But me? Haha! I'm always creative for you;<br />
                <span class="comments">// Idk how? I am never this creative for anything else!</span><br />
                So my idea is not only wish and gift;<br />
                But maybe bring that X-Factor;<br />
                That X-Factor is making you HAPPY;<br />
                And this is my way of making you happy;<br />
                I'm sure this will be your best gift;<br />
                Whenever you are low, just visit this page;<br />
                And you will feel happy Cutsuuuu! âœ¨;<br />
                <br />
                
                Now If you want to Muddhu-Muddhu me you can touch the heart below<br />
                <br />
                <span id="heartspan">
                <a href="image.png" target="_blank"><i class="fas fa-heart" id="icon"></i></a>
                </span>
                <br/>
                <br/>
                And to see the cutest baby in the world:<br/>
                <span id="babyspan">
                <a href="childhood.png" target="_blank"><i class="fas fa-child" id="babyicon"></i></a>
                </span>
            </div>
            <div id="loveHeart">
                <canvas id="garden"></canvas>
                <div id="words">
                    <div id="messages">
                        Mankeerth FOREVER
                        <div id="elapseClock"></div>
                    </div>
                    <div id="loveu">
                        HBD Bujji!<br/>
                        I LOVE YOU SO MUCH<br/>
                        <div class="signature">-Manish</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<script type="text/javascript">
var offsetX = $("#loveHeart").width() / 2;
var offsetY = $("#loveHeart").height() / 2 - 55;
var together = new Date();
// 8 is September
together.setFullYear(2022, 8, 13);
together.setHours(15);
together.setMinutes(30);
together.setSeconds(0);
together.setMilliseconds(0);

var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
var audio = document.getElementById("bgMusic");
var animationStarted = false; 

if (isMobile) {
    $("#beigeOverlay").hide();
    $("#mobileStart").show();

    $("#startBtn").click(function() {
        audio.play(); 
        $("#mobileStart").fadeOut(500, function() {
            $("#beigeOverlay").fadeIn(1000, function() {
                
                // RUN ONCE LOGIC
                if (!animationStarted) {
                    animationStarted = true;
                    var $loveHeart = $("#loveHeart");
                    var $garden = $("#garden");
                    $loveHeart.css("display", "block");
                    
                    offsetX = $loveHeart.width() / 2;
                    offsetY = $loveHeart.height() / 2 - 55;
                    var gardenCanvas = $garden[0];
                    gardenCanvas.width = $loveHeart.width();
                    gardenCanvas.height = $loveHeart.height();
                    gardenCtx = gardenCanvas.getContext("2d");
                    gardenCtx.globalCompositeOperation = "lighter";
                    garden = new Garden(gardenCtx, gardenCanvas);
                    
                    adjustWordsPosition();
                    startHeartAnimation();
                    timeElapse(together);
                    setInterval(function () {
                        timeElapse(together);
                    }, 500);
                    adjustCodePosition();
                    $("#code").show(); // Instant text show on mobile
                }
            });
        });
    });

    $("#closeBtn").click(function() {
        $("#beigeOverlay").fadeOut(500, function() {
            $("#mobileStart").fadeIn(500);
        });
    });

} else {
    // DESKTOP
    $("#mobileStart").hide();
    $("#beigeOverlay").show();
    var playPromise = audio.play();
    if (playPromise !== undefined) {
        playPromise.catch(error => {
            document.body.addEventListener('click', function() { audio.play(); }, { once: true });
        });
    }
    if (!document.createElement('canvas').getContext) {
        var msg = document.createElement("div");
        msg.id = "errorMsg";
        msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+"; 
        document.body.appendChild(msg);
        $("#code").css("display", "none")
        $("#copyright").css("position", "absolute");
        $("#copyright").css("bottom", "10px");
        document.execCommand("stop");
    } else {
        setTimeout(function () {
            startHeartAnimation();
        }, 5000);
        timeElapse(together);
        setInterval(function () {
            timeElapse(together);
        }, 500);
        adjustCodePosition();
        $("#code").typewriter();
    }
}
</script>
</body>
</html>
